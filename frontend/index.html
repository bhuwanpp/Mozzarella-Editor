<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- google font  -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" type="image/x-icon" href="public/images/logo.png" />
    <title>Mozzarella Editor</title>
    <!-- for icons  -->
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
  </head>

  <body class="py-5 pb-52">
    <!-- header  -->
    <header
      class="flex justify-between items-center px-10 "
    >
      <div class="left flex items-center gap-5 cursor-pointer">
        <img src="/images/logo.png" alt="logo" class="w-10 rounded-full" />
        <h2 class="text-3xl">Mozzarella Editor</h2>
      </div>
      <div class="right flex items-center gap-10 text-end">
        <div class="icons text-5xl cursor-pointer">
          <button id="light" class="hidden">
            <iconify-icon
              icon="line-md:sunny-outline-to-moon-alt-loop-transition"
            ></iconify-icon>
          </button>
          <button id="dark">
            <iconify-icon
              icon="line-md:moon-alt-to-sunny-outline-loop-transition"
            ></iconify-icon>
          </button>
        </div>
        <div class="login text-2xl">
          <button id="loginBtn">Login</button>
          <button id="afterLogin" class="hidden"></button>
        </div>
      </div>
      <!-- after login ui -->
      <div
        id="afterLoginUI"
        class="afterLoginUI hidden
         bg-white text-center z-20 text-black absolute right-20 w-60 rounded-md h-rull py-5 top-20"
      >
        <button
          id="logOut"
          class="text-center px-2 mb-5 py-1 rounded-md text-xl bg-red-500 cursor-pointer"
        >
          Log Out
        </button>
        <br />
        <button
          id="updatePasswordBtn"
          class="text-center px-2 py-1 rounded-md text-xl bg-blue-500 cursor-pointer"
        >
          updatePassword
        </button>
      </div>

      <!-- update password  -->
      <form
        id="updatePasswordForm"
        class="absolute hidden bg-black top-1/3 left-1/3 z-20 flex-col items-center gap-10 px-10 py-10"
      >
        <input
          type="email"
          id="forgotEmail"
          placeholder="Email"
          required
          class="outline-none text-black px-1 py-1 border border-black"
        />
        <input
          type="text"
          id="oldPassword"
          placeholder="Old Password"
          required
          class="outline-none text-black px-1 py-1 border border-black"
        />
        <input
          type="text"
          id="newPassword"
          placeholder="New Password"
          required
          class="outline-none text-black px-1 py-1 border border-black"
        />
        <button type="button" id="updatePassword" class="bg-blue-300 text-black px-2 py-1 rounded-md">Update Password</button>
      </form>

      <!-- login ui  -->
      <div
        id="loginUi"
        class="loginUi hidden z-10 absolute top-1/3 left-1/3 bg-black px-10 py-10 border border-black"
      >
        <p class="pb-5" id="authInfo">Login with email or password</p>
        <p class="pb-5 hidden w-80" id="forgotInfo">
          Please enter your email, we will send you reset instructions
        </p>

        <form class="flex flex-col gap-10" id="form">
          <input
            type="text"
            id="name"
            placeholder="name"
            class="outline-none hidden text-black px-1 py-1 border border-black"
          />

          <input
          required
            type="email"
            id="email"
            placeholder="email"
            class="outline-none text-black px-1 py-1 border border-black"
          />

          <input
          required
            type="text"
            id="password"
            placeholder="password"
            class="outline-none text-black px-1 py-1 border border-black"
          />

          <button type="submit"
            class="bg-blue-500 hover:bg-blue-700 transition-all"
            id="login"
          >
            login
          </button>
          <button type="submit"
            class="hidden bg-blue-500 hover:bg-blue-700 transition-all"
            id="signup"
          >
            signup
          </button>
          <button
            class="hidden bg-blue-500 hover:bg-blue-700 transition-all"
            id="continueBtn"
          >
            continue
          </button>
          <!-- login error element  -->
           <p id="loginError" class="text-red-500 "></p>

          <div class="signup flex gap-2" id="signupWrapper">
            <p>New to Mozzarella</p>
            <input
              type="button"
              class="underline cursor-pointer"
              value="signup"
              id="signupBtn"
            />
          </div>
          <div class="signup gap-2 hidden" id="already-login">
            <p>Already signup</p>
            <input
              type="button"
              class="underline cursor-pointer"
              value="login"
              id="loginback"
            />
          </div>
        </form>
      </div>
    </header>
    <!-- nav -->
    <nav class="flex justify-between px-10  mt-2 ">
      <div class="left flex items-center gap-10 flex-wrap relative" id="files">
        <button
          class="addFile text-3xl hover:bg-black p-1 rounded-full"
          id="add-file"
        >
          +
        </button>
      </div>
      <div class="right ">
        <button
          id="run"
          class="flex items-center gap-1 bg-buttonRed px-2 py-2 rounded-lg text-xl hover:opacity-90"
        >
          <p>Run</p>
          <iconify-icon icon="ph:play-fill"></iconify-icon>
        </button>
      </div>
    </nav>
    <!-- main  -->

    <main class="mt-5 flex  flex-grow px-5">
      <section class="w-3/5 flex gap-5 relative">
        <div class="lineNuber pt-5 w-5 text-md pl-3" id="line-numbers"></div>
        <div class="relative w-full h-full">
          <textarea
            id="textarea"
            class="w-full resize-none h-screen p-4 outline-none text-md bg-transparent border border-gray-400 rounded-md"
            placeholder="Write your JS code here"
          ></textarea>
          <pre
            id="highlighted-code"
            class="absolute top-0 left-0 w-full h-full p-4 text-md overflow-hidden"
          ></pre>
        </div>
        <div
          id="suggestions"
          class="suggestion absolute hidden bg-editor text-white border border-white max-h-[200px] overflow-y-auto shadow-sm z-[1000]"
        ></div>
        <!-- error detecion -->
      </section>

      <!-- aside -->
      <aside class="w-2/5">
        <div
          class="output-area border border-gray-400 w-full h-full outline-none p-5 bg-editor"
        >
          <p>Output</p>
          <p id="output" class="output-show bg-output mt-2 p-2">
            Click on RUN button to see the output
          </p>
        </div>
      </aside>
    </main>
    <!-- footer  -->
    <footer></footer>

    <!-- <script type="module" src="/src/lsp/index.ts"></script> -->
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
